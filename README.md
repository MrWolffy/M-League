# M-League
 Database project of analyzing M-League data

## M-League介绍

日本的麻将联赛M-League是一项专业的麻将比赛，由日本麻将协会主办。其主要赛制为：

1. **参赛队伍：** M-League通常由多支代表不同城市或地区的麻将队伍组成。这些队伍由一些著名的专业麻将选手组成，代表各自地区参与比赛。每支队伍有4名选手。
2. **比赛周期：** M-League一般会分为常规赛和季后赛两个阶段。常规赛通常在赛季初开始，由所有参赛队伍之间展开。
3. **比赛形式：** M-League的比赛形式主要包括团体赛和个人赛。团体赛中，一支队伍的多名选手将组成一个团队，共同对抗其他队伍。个人赛则是每位选手独立进行比赛。
4. **积分系统：** 常规赛中，胜利的队伍或选手将获得积分，根据积分排名确定晋级情况。
5. **季后赛：** 常规赛结束后，排名靠前的队伍将晋级到季后赛。季后赛通常采用淘汰赛制，直至决出年度冠军。

为简化，本项目只考虑团体赛的常规赛部分。

## 比赛规则

1. 通常每个比赛日有两场比赛，每一场比赛中，由事先安排好的四支队伍分别派一名选手参加。
2. 麻将比赛过程中采用点数计算，而非积分计算。终局之后再将点数换算为积分：
   - 每家的起始点数为25000点。比赛中，四家各有得点、失点，但四家点数的总和不变，总为100000。最小的点数计算单位是100。
   - 一场比赛结束后，计算基本积分。基本积分的计算方式为：(终局点数 - 30000) / 1000。
   - 基本积分再加上排名奖励即为积分。排名奖励为：一位+50，二位+10，三位-10，四位-30。最小的积分计算单位是0.1。
   - 若出现终局点数相同的情况，则点数相同的几位选手平分排名积分。
3. 每支队伍的个人积分之和即为队伍积分。

目前暂时不考虑比赛过程中的细节。

## 数据库设计

ER图：[E-R Diagram](resource/E-R Diagram.drawio)

数据库设计：[https://dbdiagram.io/d/M-League-65a34568ac844320aedc7e2b](https://dbdiagram.io/d/M-League-65a34568ac844320aedc7e2b)

## 常见查询逻辑

- 计算给定时间段内的队伍排名
- 计算给定时间段内的个人排名
- 计算单场比赛得点数最高的一位
- 计算单场比赛得点数最低的四位
- 计算个人的一位/二位/三位/四位率
- 计算一位/二位/三位/四位平均点数

## 参考资料

- https://mleaguedata.fun/
- https://www.bilibili.com/read/cv18948527/
- Twitter @penropin
